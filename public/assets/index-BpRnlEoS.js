import{ah as e,ai as z,aw as O,a as f}from"./index-WozvSfaz.js";import{ax as C,aL as Q,aM as V,as as X,S as Z,aI as b,aH as Y,B as E,q as F,C as P}from"./IdurarOs-2Q7XqIs7.js";import{b as B,u as ee,r as te,h as H,ae as se,W as M,K as ae,d as ne,c as r,Y as _,m as a,S as le,o as de,A as S,e as ie,f as re,D as ce,p as oe,g as ue,R as xe,U as me,j as he,z as R}from"./ErpApp-AJk95zmD.js";function pe({config:t,extra:c=[]}){let{entity:o,dataTableColumns:l,fields:m,searchConfig:g}=t;const{crudContextAction:h}=B(),{panel:d,collapsedBox:n,modal:v,readBox:u,editBox:i,advancedBox:k}=h,y=C(),{moneyFormatter:T}=ee(),{dateFormat:I}=te(),N=[{label:y("Show"),key:"read",icon:e.jsx(Q,{})},{label:y("Edit"),key:"edit",icon:e.jsx(V,{})},...c,{type:"divider"},{label:y("Delete"),key:"delete",icon:e.jsx(H,{})}],w=s=>{p(r.currentItem({data:s})),d.open(),n.open(),u.open()};function A(s){p(r.currentItem({data:s})),p(r.currentAction({actionType:"update",data:s})),i.open(),d.open(),n.open()}function D(s){p(r.currentAction({actionType:"delete",data:s})),v.open()}function J(s){p(r.currentItem({data:s})),p(r.currentAction({actionType:"update",data:s})),k.open(),d.open(),n.open()}let L=[];m?L=[...se({fields:m,translate:y,moneyFormatter:T,dateFormat:I})]:L=[...l],l=[...L,{title:"",key:"action",fixed:"right",render:(s,x)=>e.jsx(M,{menu:{items:N,onClick:({key:j})=>{switch(j){case"read":w(x);break;case"edit":A(x);break;case"delete":D(x);break;case"updatePassword":J(x);break}}},trigger:["click"],children:e.jsx(ae,{style:{cursor:"pointer",fontSize:"24px"},onClick:j=>j.preventDefault()})})}];const{result:U,isLoading:q}=z(ne),{pagination:W,items:G}=U,p=O(),K=f.useCallback(s=>{const x={page:s.current||1,items:s.pageSize||10};p(r.list({entity:o,options:x}))},[]),$=()=>{const s=[{title:"Date",dataIndex:"date",key:"date"},{title:"Name",dataIndex:"name",key:"name"},{title:"Status",key:"state",render:()=>e.jsx(Badge,{status:"success",text:"Finished"})},{title:"Upgrade Status",dataIndex:"upgradeNum",key:"upgradeNum"},{title:"Action",dataIndex:"operation",key:"operation",render:()=>e.jsxs(Space,{size:"middle",children:[e.jsx("a",{children:"Pause"}),e.jsx("a",{children:"Stop"}),e.jsx(M,{menu:{items:N},children:e.jsxs("a",{children:["More ",e.jsx(DownOutlined,{})]})})]})}],x=[];for(let j=0;j<3;++j)x.push({key:j.toString(),date:"2014-12-24 23:12:00",name:"This is production name",upgradeNum:"Upgraded: 56"});return e.jsx(_,{columns:s,dataSource:x,pagination:!1})};return e.jsx(_,{columns:l,rowKey:s=>s._id,dataSource:G,pagination:W,loading:q,expandable:{expandedRowRender:$,defaultExpandedRowKeys:["0"]},onChange:K,scroll:{x:!0}})}const{RangePicker:je}=oe;function ge({config:t,formElements:c,withUpload:o}){const l=C(),{crudContextAction:m,state:g}=B(),{deleteModalLabels:h}=t,{modal:d,editBox:n}=m,{isReadBoxOpen:v,isEditBoxOpen:u}=g,{result:i}=z(ue),k=O(),[y,T]=f.useState("");f.useEffect(()=>{if(i){const A=h.map(D=>i[D]).join(" ");T(A)}},[i]);const I=()=>{k(r.currentAction({actionType:"delete",data:i})),d.open()},N=()=>{k(r.currentAction({actionType:"update",data:i})),n.open()},w=v||u?{opacity:1}:{opacity:0};return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{style:w,gutter:24,children:[e.jsx(b,{span:10,children:e.jsx("p",{style:{marginBottom:"10px"},children:y})}),e.jsxs(b,{span:14,children:[e.jsx(E,{onClick:I,type:"text",icon:e.jsx(H,{}),size:"small",style:{float:"right",marginLeft:"5px",marginTop:"10px"},children:l("remove")}),e.jsx(E,{onClick:N,type:"text",icon:e.jsx(V,{}),size:"small",style:{float:"right",marginLeft:"0px",marginTop:"10px"},children:l("edit")})]}),e.jsx(b,{span:24,children:e.jsx("div",{className:"line"})}),e.jsx("div",{className:"space10"})]}),e.jsx(xe,{config:t}),e.jsx(me,{config:t,formElements:c,withUpload:o})]})}function ye({config:t}){const{crudContextAction:c}=B(),{collapsedBox:o}=c,l=()=>{o.close()};return e.jsxs(Y,{gutter:8,children:[e.jsx(b,{className:"gutter-row",span:21,children:e.jsx(he,{config:t})}),e.jsx(b,{className:"gutter-row",span:3,children:e.jsx(E,{onClick:l,block:!0,icon:e.jsx(PlusOutlined,{})})})]})}const be=({config:t,createForm:c,updateForm:o,withUpload:l=!1})=>{const m=O();f.useLayoutEffect(()=>{m(r.resetState())},[]),C();const[g,h]=f.useState(!1),d="YYYY-MM-DD",n=[{label:"Today",value:[a().add(0,"d"),a()]},{label:"Yesterday",value:[a().add(-1,"d"),a()]},{label:"This Week",value:[a().startOf("week"),a().endOf("week")]},{label:"Last Week",value:[a().subtract(1,"week").startOf("week"),a().subtract(1,"week").endOf("week")]},{label:"This Month",value:[a().startOf("month"),a().endOf("month")]},{label:"Last Month",value:[a().subtract(1,"month").startOf("month"),a().subtract(1,"month").endOf("month")]},{label:"This year",value:[a().startOf("year"),a().endOf("year")]},{label:"All time",value:[a(0),a()]}],v=(u,i)=>{u?(console.log("From: ",u[0],", to: ",u[1]),console.log("From: ",i[0],", to: ",i[1])):console.log("Clear")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs("div",{className:"grid gap-x-5 justify-start ",style:{gridTemplateColumns:"auto auto auto auto minmax(auto, 140px)"},children:[e.jsxs("div",{className:"grid gap-y-1.5",children:[e.jsx("p",{children:"Type"}),e.jsx(le,{defaultValue:"active",onChange:u=>setAlignValue(u),options:[{label:e.jsx("div",{style:{padding:4},children:e.jsx("div",{children:"Active"})}),value:"active"},{label:e.jsx("div",{style:{padding:4},children:e.jsx("div",{children:"Archived"})}),value:"archived"}]})]}),e.jsxs("div",{className:"grid gap-y-1.5",children:[e.jsx("p",{children:"Member"}),e.jsx("div",{className:"w-[40px]",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"user-select-btn rounded-full border-2 border-dotted",onClick:()=>h(!g),children:e.jsx(de,{className:"text-lg	text-emerald-400"})}),g===!0&&e.jsx("div",{className:"user-select",children:e.jsxs("div",{className:"user-select-list",children:[e.jsx("div",{className:"user-select-search",children:e.jsx("div",{className:"",children:e.jsx(X,{addonBefore:e.jsx(Z,{}),placeholder:"Search..."})})}),e.jsxs("div",{disabled:"",className:"user-select-item",children:[e.jsx("div",{children:e.jsx(S,{src:"https://api.dicebear.com/7.x/miniavs/svg?seed=1",style:{verticalAlign:"middle"},size:"middle"})}),e.jsx("span",{className:"sc-JrDLc bmdBHG",children:"Byron Jett"})]}),e.jsxs("div",{disabled:"",className:"user-select-item",children:[e.jsx("div",{children:e.jsx(S,{src:"https://api.dicebear.com/7.x/miniavs/svg?seed=4",style:{verticalAlign:"middle"},size:"middle"})}),e.jsx("span",{className:"sc-JrDLc bmdBHG",children:"Byron Jett"})]}),e.jsxs("div",{disabled:"",className:"user-select-item",children:[e.jsx("div",{children:e.jsx(S,{src:"https://api.dicebear.com/7.x/miniavs/svg?seed=8",style:{verticalAlign:"middle"},size:"middle"})}),e.jsx("span",{className:"sc-JrDLc bmdBHG",children:"Byron Jett"})]})]})})]})})]}),e.jsxs("div",{className:"grid gap-y-1.5",children:[e.jsx("p",{children:"Date Range"}),e.jsx(je,{defaultValue:a("2024-02-28",d),className:"min-w-64	outline-blue-500 min-h-10",presets:n,onChange:v})]})]})}),e.jsx(b,{span:24,children:e.jsx("div",{className:"line"})}),e.jsxs("div",{className:"grid bg-white rounded-lg p-6 mt-4 border-2",children:[e.jsx("div",{className:"flex justify-between item-center gap-4",children:e.jsx("div",{className:"grid gap-2",children:e.jsx("p",{class:"min-h-10 text-[18px]",children:"All Awaiting Timesheets"})})}),e.jsxs(ie,{config:t,fixHeaderPanel:e.jsx(ye,{config:t}),sidePanelBottomContent:e.jsx(re,{config:t,formElements:c,withUpload:l}),sidePanelTopContent:e.jsx(ge,{config:t,formElements:o,withUpload:l}),children:[e.jsx(pe,{config:t}),e.jsx(ce,{config:t})]})]})]})},ve=be,fe={"team name":{type:"string",required:!0},"created on":{type:"date",required:!0},action:{type:"string",required:!0,disableForForm:!0}};function Te(){const t=C(),c="team",o={displayLabels:["name"],searchFields:"name",outputValue:"_id"},l=["name"];t("Name"),t("Value"),t("Default"),t("enabled"),t("Name"),t("Value"),t("Default"),t("enabled");const m={PANEL_TITLE:t("timesheets"),DATATABLE_TITLE:t("timesheets_list"),ADD_NEW_ENTITY:t("add_new_timesheet"),ENTITY_NAME:t("timesheets")},h={...{entity:c,...m},fields:fe,searchConfig:o,deleteModalLabels:l};return e.jsx(ve,{config:h})}export{Te as default};
